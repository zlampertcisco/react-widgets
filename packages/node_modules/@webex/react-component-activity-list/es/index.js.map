{"version":3,"file":"index.js","sources":["../../../../../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport ActivityItem from '@webex/react-component-activity-item';\nimport DaySeparator from '@webex/react-component-day-separator';\nimport NewMessagesSeparator from '@webex/react-component-new-messages-separator';\nimport {formatDate, getAdaptiveCardFeatureState} from '@webex/react-component-utils';\n\nimport styles from './styles.css';\n\nexport const ITEM_TYPE_ACTIVITY = 'ITEM_TYPE_ACTIVITY';\nexport const ITEM_TYPE_DAY_SEPARATOR = 'ITEM_TYPE_DAY_SEPARATOR';\nexport const ITEM_TYPE_NEW_MESSAGE_SEPARATOR = 'ITEM_TYPE_NEW_MESSAGE_SEPARATOR';\n\nconst REPLY_TYPE = 'reply';\n\nconst propTypes = {\n  activities: PropTypes.arrayOf(PropTypes.shape({\n    activity: PropTypes.shape({\n      id: PropTypes.string,\n      object: PropTypes.shape({\n        content: PropTypes.string,\n        displayName: PropTypes.string,\n        files: PropTypes.shape({\n          items: PropTypes.arrayOf(PropTypes.shape({\n            image: PropTypes.shape({\n              url: PropTypes.string\n            }),\n            thumbnail: PropTypes.string,\n            mimeType: PropTypes.string,\n            url: PropTypes.string\n          }))\n        })\n      }),\n      actor: PropTypes.object, // Are we even using it?\n      published: PropTypes.string,\n      verb: PropTypes.string\n    }),\n    type: PropTypes.string,\n    isAdditional: PropTypes.bool,\n    hasError: PropTypes.bool,\n    isFlagged: PropTypes.bool,\n    isSelf: PropTypes.bool,\n    isPending: PropTypes.bool\n  })),\n  newMessagesMessage: PropTypes.string.isRequired,\n  onActivityDelete: PropTypes.func.isRequired,\n  onActivityFlag: PropTypes.func.isRequired,\n  onActivityRetry: PropTypes.func.isRequired,\n  features: PropTypes.object.isRequired,\n  sdkInstance: PropTypes.object.isRequired,\n  intl: PropTypes.object.isRequired\n\n};\n\nconst defaultProps = {\n  activities: []\n};\n\n\nfunction ActivityList(props) {\n  const {\n    activities,\n    newMessagesMessage,\n    onActivityDelete,\n    onActivityFlag,\n    onActivityRetry,\n    features,\n    sdkInstance,\n    intl\n  } = props;\n  const items = activities.map((visibleActivity) => {\n    switch (visibleActivity.type) {\n      case ITEM_TYPE_DAY_SEPARATOR: {\n        const {\n          fromDate, key, now, toDate\n        } = visibleActivity;\n\n        return (\n          <div className={classNames(styles.separator, 'activity-list-separator')} key={key}>\n            <DaySeparator\n              fromDate={fromDate}\n              now={now}\n              toDate={toDate}\n            />\n          </div>\n        );\n      }\n      case ITEM_TYPE_ACTIVITY: {\n        const {\n          activity, currentUser, hasError, isPending, isAdditional, isFlagged, isFlagPending, isSelf, name\n        } = visibleActivity;\n        const adaptiveCardFeatureState = getAdaptiveCardFeatureState(features);\n\n        return (\n          <ActivityItem\n            activity={activity.object}\n            actor={activity.actor}\n            actorId={activity.actor.id}\n            currentUser={currentUser}\n            hasError={hasError}\n            id={activity.id}\n            isAdditional={isAdditional}\n            isFlagged={isFlagged}\n            isFlagPending={isFlagPending}\n            isPending={isPending}\n            isReply={activity.parent?.type === REPLY_TYPE}\n            isSelf={isSelf}\n            key={activity.id}\n            name={name}\n            onActivityDelete={onActivityDelete}\n            onActivityFlag={onActivityFlag}\n            onActivityRetry={onActivityRetry}\n            timestamp={formatDate(activity.published)}\n            verb={activity.verb}\n            adaptiveCardFeatureState={adaptiveCardFeatureState}\n            sdkInstance={sdkInstance}\n            intl={intl}\n          />\n        );\n      }\n      case ITEM_TYPE_NEW_MESSAGE_SEPARATOR: {\n        return <NewMessagesSeparator key={visibleActivity.key} message={newMessagesMessage} />;\n      }\n      default: {\n        return '';\n      }\n    }\n  });\n\n  return (\n    <div className={classNames('webex-activity-list', styles.activityList)}>\n      {items}\n    </div>\n  );\n}\n\nActivityList.propTypes = propTypes;\nActivityList.defaultProps = defaultProps;\n\nexport default ActivityList;\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","ITEM_TYPE_ACTIVITY","ITEM_TYPE_DAY_SEPARATOR","ITEM_TYPE_NEW_MESSAGE_SEPARATOR","REPLY_TYPE","propTypes","activities","PropTypes","arrayOf","shape","activity","id","string","object","content","displayName","files","items","image","url","thumbnail","mimeType","actor","published","verb","isAdditional","bool","hasError","isFlagged","isSelf","isPending","newMessagesMessage","isRequired","onActivityDelete","func","onActivityFlag","onActivityRetry","features","sdkInstance","intl","defaultProps","ActivityList","props","map","visibleActivity","fromDate","key","now","toDate","classNames","styles","separator","currentUser","isFlagPending","name","adaptiveCardFeatureState","getAdaptiveCardFeatureState","parent","formatDate","activityList"],"mappings":"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"}