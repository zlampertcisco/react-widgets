{"version":3,"file":"index.js","sources":["../../../../../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {bytesToSize, getFileIcon} from '@webex/react-component-utils';\nimport ShareFile from '@webex/react-component-activity-share-file';\n\nimport {\n  Button,\n  ContentItem,\n  Icon\n} from '@momentum-ui/react';\n\nimport styles from './styles.css';\n\nconst propTypes = {\n  actor: PropTypes.object.isRequired,\n  file: PropTypes.shape({\n    displayName: PropTypes.string,\n    fileSize: PropTypes.number,\n    image: PropTypes.object,\n    mimeType: PropTypes.string,\n    objectType: PropTypes.string\n  }).isRequired,\n  isFetching: PropTypes.bool,\n  isPending: PropTypes.bool,\n  objectUrl: PropTypes.string,\n  onDownloadClick: PropTypes.func.isRequired,\n  timestamp: PropTypes.string.isRequired,\n  type: PropTypes.string\n};\n\nconst defaultProps = {\n  isFetching: false,\n  isPending: false,\n  objectUrl: '',\n  type: 'chat'\n};\n\nfunction ActivityShareThumbnail(props) {\n  const {\n    actor,\n    file,\n    isFetching,\n    isPending,\n    objectUrl,\n    onDownloadClick,\n    timestamp,\n    type\n  } = props;\n\n  const {\n    displayName,\n    fileSize,\n    mimeType\n  } = file;\n\n  function handleDownloadClick() {\n    onDownloadClick(file);\n  }\n\n  const actionNode = (\n    <div>\n      <Button\n        ariaLabel=\"Download\"\n        style={{backgroundColor: 'black'}}\n        circle\n        onClick={handleDownloadClick}\n        size={32}\n      >\n        <Icon name=\"icon-arrow-tail-down_12\" color=\"white\" />\n      </Button>\n    </div>\n  );\n\n  const isGif = mimeType === 'image/gif';\n\n  if (type === 'file') {\n    return (\n      <div className={classNames('webex-activity-share-item', styles.shareItem)}>\n        <div className={classNames('webex-share-thumbnail', styles.thumbnail)}>\n          <ContentItem\n            actionNode={isPending ? '' : actionNode}\n            content={objectUrl}\n            height={file.image ? file.image.height : null}\n            icon={!file.image ? `icon-${getFileIcon(file.mimeType, 72)}` : ''}\n            gifIcon={isGif ? 'icon icon-gif_20' : ''}\n            fileSize={bytesToSize(fileSize)}\n            loading={isFetching}\n            loadingText=\"Loading\"\n            title={displayName}\n            type={type}\n            subtitle={`${actor.displayName}, ${timestamp}`}\n            width={file.image ? file.image.width : null}\n          />\n        </div>\n      </div>\n    );\n  }\n  if (file.image && type === 'chat') {\n    return (\n      <ContentItem\n        actionNode={isPending ? '' : actionNode}\n        content={objectUrl}\n        height={file.image.height}\n        gifIcon={isGif ? 'icon icon-gif_20' : ''}\n        fileSize={bytesToSize(fileSize)}\n        loading={isFetching}\n        loadingText=\"Loading\"\n        title={displayName}\n        type={type}\n        width={file.image.width}\n      />\n    );\n  }\n\n  return (\n    <ShareFile\n      file={file}\n      isPending={isPending}\n      onDownloadClick={onDownloadClick}\n    />\n  );\n}\n\nActivityShareThumbnail.propTypes = propTypes;\nActivityShareThumbnail.defaultProps = defaultProps;\n\nexport default ActivityShareThumbnail;\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","propTypes","actor","PropTypes","object","isRequired","file","shape","displayName","string","fileSize","number","image","mimeType","objectType","isFetching","bool","isPending","objectUrl","onDownloadClick","func","timestamp","defaultProps","ActivityShareThumbnail","props","handleDownloadClick","actionNode","backgroundColor","isGif","classNames","styles","shareItem","thumbnail","height","getFileIcon","bytesToSize","width"],"mappings":"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"}