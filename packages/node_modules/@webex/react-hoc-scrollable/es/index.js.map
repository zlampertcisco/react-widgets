{"version":3,"file":"index.js","sources":["../../../../../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {autobind} from 'core-decorators';\nimport {getDisplayName} from '@webex/react-component-utils';\n\nimport styles from './styles.css';\n\nconst propTypes = {\n  onScroll: PropTypes.func\n};\n\nconst defaultProps = {\n  onScroll: () => {}\n};\n\nexport default function injectScrollable(WrappedComponent) {\n  class ScrollableComponent extends Component {\n    shouldComponentUpdate(nextProps) {\n      return nextProps !== this.props;\n    }\n\n    @autobind\n    getNode(node) {\n      this.node = node;\n    }\n\n    getScrollHeight() {\n      return this.node.scrollHeight;\n    }\n\n    getScrollTop() {\n      return this.node.scrollTop;\n    }\n\n    setScrollTop(top) {\n      this.node.scrollTop = top;\n    }\n\n    scrollToBottom() {\n      const {node} = this;\n\n      node.scrollTop = node.scrollHeight;\n    }\n\n    isScrolledToTop() {\n      return this.node.scrollTop < 100;\n    }\n\n    isScrolledToBottom() {\n      const {node} = this;\n\n      return node.scrollHeight - node.offsetHeight - node.scrollTop < 150;\n    }\n\n    render() {\n      return (\n        <div className={styles.scrollable} onScroll={this.props.onScroll} ref={this.getNode}>\n          <WrappedComponent {...this.props} />\n        </div>\n      );\n    }\n  }\n\n  ScrollableComponent.propTypes = propTypes;\n  ScrollableComponent.defaultProps = defaultProps;\n\n  ScrollableComponent.displayName = `ScrollableComponent(${getDisplayName(WrappedComponent)})`;\n  ScrollableComponent.WrappedComponent = WrappedComponent;\n\n  return ScrollableComponent;\n}\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","propTypes","onScroll","PropTypes","func","defaultProps","injectScrollable","WrappedComponent","ScrollableComponent","Component","shouldComponentUpdate","nextProps","props","getNode","node","getScrollHeight","scrollHeight","getScrollTop","scrollTop","setScrollTop","top","scrollToBottom","isScrolledToTop","isScrolledToBottom","offsetHeight","render","styles","scrollable","autobind","displayName","getDisplayName"],"mappings":"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"}