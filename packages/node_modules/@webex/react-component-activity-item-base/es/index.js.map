{"version":3,"file":"index.js","sources":["../../../../../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport PresenceAvatar from '@webex/react-container-presence-avatar';\n\nimport {Icon} from '@momentum-ui/react';\n\nimport styles from './styles.css';\n\n\nconst propTypes = {\n  actorId: PropTypes.string,\n  children: PropTypes.element.isRequired,\n  hasError: PropTypes.bool,\n  id: PropTypes.string.isRequired,\n  isAdditional: PropTypes.bool,\n  isFlagged: PropTypes.bool,\n  isFlagPending: PropTypes.bool,\n  isPending: PropTypes.bool,\n  isSelf: PropTypes.bool,\n  name: PropTypes.string,\n  onActivityDelete: PropTypes.func,\n  onActivityFlag: PropTypes.func,\n  onActivityRetry: PropTypes.func,\n  timestamp: PropTypes.string\n};\n\nconst defaultProps = {\n  actorId: '',\n  hasError: false,\n  isAdditional: false,\n  isFlagged: false,\n  isFlagPending: false,\n  isPending: false,\n  isSelf: false,\n  name: '',\n  onActivityDelete: () => {},\n  onActivityFlag: () => {},\n  onActivityRetry: () => {},\n  timestamp: ''\n};\n\nfunction ActivityItemBase({\n  actorId,\n  children,\n  id,\n  isAdditional,\n  hasError,\n  isFlagged,\n  isFlagPending,\n  isPending,\n  isSelf,\n  name,\n  onActivityDelete,\n  onActivityFlag,\n  onActivityRetry,\n  timestamp\n}) {\n  let deleteAction;\n  let flagAction;\n  let errorDisplay;\n  const displayName = isSelf ? 'You' : name;\n\n  function handleOnDelete() {\n    onActivityDelete(id);\n  }\n\n  function handleOnFlag() {\n    onActivityFlag(id);\n  }\n\n  function handleOnRetry() {\n    onActivityRetry(id);\n  }\n\n  function getActionClassNames({highlight = false, flagActionPending = false} = {}) {\n    const actionClassNames = ['activity-post-action', styles.activityPostAction];\n\n    if (highlight) {\n      actionClassNames.push('isHighlighted', styles.isHighlighted);\n    }\n    if (flagActionPending) {\n      actionClassNames.push('flagActionPending');\n    }\n\n    return actionClassNames;\n  }\n\n  if (!isPending) {\n    flagAction = (\n      <div className={classNames(getActionClassNames({highlight: isFlagged, flagActionPending: isFlagPending}))}>\n        <Icon\n          ariaLabel=\"Flag for follow-up\"\n          color=\"black-100\"\n          name={isFlagged ? 'flag-active_16' : 'flag_16'}\n          onClick={handleOnFlag}\n        />\n      </div>\n    );\n    if (isSelf) {\n      deleteAction = (\n        <div className={classNames(getActionClassNames())}>\n          <Icon\n            ariaLabel=\"Delete message\"\n            color=\"black-100\"\n            name=\"clear_16\"\n            onClick={handleOnDelete}\n          />\n        </div>\n      );\n    }\n    else {\n      deleteAction = (\n        <div className={classNames(getActionClassNames())}>\n          <div className={classNames('webex-action-spacer', styles.actionSpacer)} />\n        </div>\n      );\n    }\n  }\n\n  if (hasError) {\n    errorDisplay = (\n      <div\n        className={classNames('webex-activity-error', styles.error)}\n        role=\"presentation\"\n      >\n        <button onClick={handleOnRetry}>Unable to post. Click to retry</button>\n      </div>\n    );\n  }\n\n  const activityItemClasses = [\n    'activity-item',\n    styles.activityItem,\n    isAdditional ? classNames('activity-item-additional', styles.additional) : '',\n    isPending ? classNames('activity-item-pending', styles.pending) : ''\n  ];\n\n  const avatarClasses = [\n    'webex-avatar-wrapper',\n    'webex-activity-item-avatar-wrapper',\n    styles.avatarWrapper,\n    isSelf ? styles.selfAvatar : ''\n  ];\n\n  return (\n    <div className={classNames(activityItemClasses)}>\n      <div className={classNames(avatarClasses)}>\n        <PresenceAvatar\n          avatarId={actorId}\n          isSelfAvatar={isSelf}\n          name={name}\n          size={36}\n        />\n      </div>\n      <div className={classNames('webex-content-container', styles.contentContainer)}>\n        <div className={classNames('webex-meta', styles.meta)}>\n          <div className={classNames('webex-display-name', styles.displayName)} title={name}>{displayName}</div>\n          <div className={classNames('webex-published', styles.published)}>{timestamp}</div>\n        </div>\n        <div className={classNames('webex-activity-content', styles.content)}>\n          {children}\n        </div>\n        {errorDisplay}\n      </div>\n      <div className={classNames('webex-activity-post-actions', styles.activityPostActions)} >\n        {flagAction}\n        {deleteAction}\n      </div>\n    </div>\n  );\n}\n\nActivityItemBase.propTypes = propTypes;\nActivityItemBase.defaultProps = defaultProps;\n\nexport default ActivityItemBase;\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","propTypes","actorId","PropTypes","string","children","element","isRequired","hasError","bool","id","isAdditional","isFlagged","isFlagPending","isPending","isSelf","name","onActivityDelete","func","onActivityFlag","onActivityRetry","timestamp","defaultProps","ActivityItemBase","deleteAction","flagAction","errorDisplay","displayName","handleOnDelete","handleOnFlag","handleOnRetry","getActionClassNames","highlight","flagActionPending","actionClassNames","styles","activityPostAction","push","isHighlighted","classNames","actionSpacer","error","activityItemClasses","activityItem","additional","pending","avatarClasses","avatarWrapper","selfAvatar","contentContainer","meta","published","content","activityPostActions"],"mappings":"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"}