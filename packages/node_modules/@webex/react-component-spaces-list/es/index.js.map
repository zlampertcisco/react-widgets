{"version":3,"file":"index.js","sources":["../../../../../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {AutoSizer, List} from 'react-virtualized';\n\nimport {Spinner} from '@momentum-ui/react';\n\nimport SpaceItem from '@webex/react-component-space-item';\n\nimport {getBadgeState, getGlobalNotificationState, hasMentions} from '@webex/react-component-utils';\n\nimport styles from './styles.css';\nimport './momentum.scss';\n\nconst propTypes = {\n  activeSpaceId: PropTypes.string,\n  currentUser: PropTypes.object,\n  hasCalling: PropTypes.bool,\n  isLoadingMore: PropTypes.bool,\n  onCallClick: PropTypes.func,\n  onClick: PropTypes.func,\n  onScroll: PropTypes.func,\n  searchTerm: PropTypes.string,\n  spaces: PropTypes.arrayOf(\n    PropTypes.shape({\n      avatarUrl: PropTypes.string,\n      activityText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element\n      ]),\n      callStartTime: PropTypes.number,\n      id: PropTypes.string,\n      isDecrypting: PropTypes.bool,\n      isUnread: PropTypes.bool,\n      lastActivityTime: PropTypes.string,\n      name: PropTypes.string,\n      teamColor: PropTypes.string,\n      teamName: PropTypes.string,\n      type: PropTypes.string\n    })\n  ),\n  features: PropTypes.object\n};\n\nconst defaultProps = {\n  activeSpaceId: '',\n  currentUser: null,\n  features: null,\n  hasCalling: false,\n  isLoadingMore: false,\n  onCallClick: () => {},\n  onClick: () => {},\n  onScroll: () => {},\n  searchTerm: '',\n  spaces: []\n};\n\nexport default function SpacesList({\n  activeSpaceId,\n  currentUser,\n  features,\n  hasCalling,\n  isLoadingMore,\n  onCallClick,\n  onClick,\n  onScroll,\n  searchTerm,\n  spaces\n}) {\n  function rowRenderer(options) {\n    const {\n      key,\n      index\n    } = options;\n    let {style} = options;\n\n    if (index >= spaces.length) {\n      style = Object.assign({textAlign: 'center'}, style);\n\n      return (\n        <div key={key} style={style}>\n          <Spinner size={20} />\n        </div>\n      );\n    }\n    const space = spaces[index];\n    const hasMention = hasMentions(currentUser, space);\n    const unread = space.isUnread;\n    const globalNotificationState = getGlobalNotificationState(features);\n    const badge = getBadgeState({\n      space, unread, hasMention, globalNotificationState\n    });\n\n    return (\n      <div className={classNames(`webex-spaces-list-item-${index}`)} key={key} style={style}>\n        <SpaceItem\n          active={space.id === activeSpaceId}\n          badge={badge}\n          hasCalling={hasCalling}\n          key={key}\n          onCallClick={onCallClick}\n          onClick={onClick}\n          {...space}\n          searchTerm={searchTerm}\n        />\n      </div>\n    );\n  }\n\n  const rowCount = isLoadingMore ? spaces.length + 1 : spaces.length;\n\n  return (\n    <div className={classNames('webex-spaces-list-container', styles.spacesListContainer)}>\n      <AutoSizer>\n        {({height, width}) => (\n          <List\n            className={classNames('webex-spaces-list', styles.spacesListDark)}\n            height={height}\n            onScroll={onScroll}\n            rowCount={rowCount}\n            rowHeight={52}\n            rowRenderer={rowRenderer}\n            width={width}\n          />\n        )}\n      </AutoSizer>\n    </div>\n  );\n}\n\nSpacesList.propTypes = propTypes;\nSpacesList.defaultProps = defaultProps;\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","propTypes","activeSpaceId","PropTypes","string","currentUser","object","hasCalling","bool","isLoadingMore","onCallClick","func","onClick","onScroll","searchTerm","spaces","arrayOf","shape","avatarUrl","activityText","oneOfType","element","callStartTime","number","id","isDecrypting","isUnread","lastActivityTime","name","teamColor","teamName","features","defaultProps","SpacesList","rowRenderer","options","key","index","length","Object","assign","textAlign","space","hasMention","hasMentions","unread","globalNotificationState","getGlobalNotificationState","badge","getBadgeState","classNames","rowCount","styles","spacesListContainer","height","width","spacesListDark"],"mappings":"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"}